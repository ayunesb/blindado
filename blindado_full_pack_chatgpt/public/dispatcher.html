<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Dispatcher — Match Booking</title>
  <style>
    body{font-family:system-ui,Segoe UI,Roboto,Arial;max-width:900px;margin:30px auto;padding:0 16px}
    input,button{padding:.7rem .75rem;border:1px solid #ccc;border-radius:10px}
    button{cursor:pointer}
  </style>
</head>
<body>
  <h1>Dispatcher — Match Booking</h1>
  <input id="bid" style="min-width:500px" placeholder="booking_id (UUID)" />
  <button id="run">Run matching</button>
  <pre id="out"></pre>
<script>
const FN = "https://isnezquuwepqcjkaupjh.supabase.co/functions/v1";
document.getElementById("run").onclick = async () => {
  const bid = document.getElementById("bid").value.trim();
  const r = await fetch(`${FN}/matching`, { method:"POST", headers:{ "Content-Type":"application/json" }, body: JSON.stringify({ booking_id: bid })});
  document.getElementById("out").textContent = JSON.stringify(await r.json(), null, 2);
};
</script>
</body>
</html>
